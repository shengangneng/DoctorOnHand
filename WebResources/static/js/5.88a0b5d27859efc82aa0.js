webpackJsonp([5],{"3nJK":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Gu7T"),n=a.n(i),l=a("Dd8w"),r=a.n(l),o=a("NYxO"),s=a("+vI2"),c=a("V90T"),d=a("XACi"),u=a("Lgrw"),h=a("0AY0"),v=a("IPo5"),m={name:"",components:{PatientInfo:s.a,leftMenu:c.a,tree:d.a,historyDialog:u.a,naviBar:h.a},data:function(){return{width:5.147,historyData:[{id:"1",name:"王小虎",number:"000033421",outTime:"2016-05-04",discharge:"呼吸内科一病区",doctor:"王刚"},{id:"2",name:"王小虎",number:"000033431",outTime:"2016-05-02",discharge:"呼吸内科一病区",doctor:"李冬梅"},{id:"3",name:"王小虎",number:"000036421",outTime:"2018-08-01",discharge:"呼吸内科一病区",doctor:"王刚"},{id:"4",name:"王小虎",number:"000083423",outTime:"2019-03-02",discharge:"呼吸内科一病区",doctor:"李玲"},{id:"5",name:"王小虎",number:"000033421",outTime:"2020-05-01",discharge:"呼吸内科一病区",doctor:"郭敏怡"},{id:"6",name:"王小虎",number:"000033421",outTime:"2016-05-04",discharge:"呼吸内科一病区",doctor:"王刚"},{id:"7",name:"王小虎",number:"000033421",outTime:"2019-09-01",discharge:"呼吸内科一病区",doctor:"肖琳琳"},{id:"8",name:"王小虎",number:"000033421",outTime:"2018-12-21",discharge:"呼吸内科一病区",doctor:"郭敏怡"}],checkResultData:[{itemName:"血糖TP秒2",result:"12.20",tip:"",rang:"20-75",unit:"ml",data:{time:["2020-05-04 13:25","2020-05-05 13:25","2020-05-06 13:25"],value:[17,28,30]}},{itemName:"血糖TP秒3",result:"15.20",tip:"",rang:"20-75",unit:"ml",data:{time:["2020-05-04 13:25","2020-05-05 13:25","2020-05-06 13:25"],value:[20,22,11]}},{itemName:"血糖TP秒4",result:"16.20",tip:"",rang:"20-75",unit:"ml",data:{time:["2020-05-04 13:25","2020-05-05 13:25","2020-05-06 13:25"],value:[30,29,50]}},{itemName:"血糖TP秒5",result:"17.20",tip:"",rang:"20-75",unit:"ml",data:{time:["2020-05-04 13:25","2020-05-05 13:25","2020-05-06 13:25"],value:[47,63,31]}},{itemName:"血糖TP秒",result:"43.20",tip:"",rang:"20-75",unit:"ml",data:{time:["2020-05-04 13:25","2020-05-05 13:25","2020-05-06 13:25"],value:[22,33,40]}},{itemName:"血糖TP秒",result:"163.20",tip:"",rang:"20-75",unit:"ml",data:{time:["2020-05-04 13:25","2020-05-05 13:25","2020-05-06 13:25"],value:[16,25,41]}},{itemName:"血糖TP秒",result:"17.20",tip:"",rang:"20-75",unit:"ml",data:{time:["2020-05-04 13:25","2020-05-05 13:25","2020-05-06 13:25"],value:[52,43,32]}},{itemName:"血糖TP秒",result:"13.80",tip:"",rang:"20-75",unit:"ml",data:{time:["2020-05-04 13:25","2020-05-05 13:25","2020-05-06 13:25"],value:[25,18,33]}},{itemName:"血糖TP秒",result:"13.20",tip:"",rang:"20-75",unit:"ml",data:{time:["2020-05-04 13:25","2020-05-05 13:25","2020-05-06 13:25"],value:[44,41,19]}},{itemName:"血糖TP秒",result:"13.20",tip:"",rang:"20-75",unit:"ml",data:{time:["2020-05-04 13:25","2020-05-05 13:25","2020-05-06 13:25"],value:[259,317,182]}},{itemName:"血糖TP秒",result:"13.20",tip:"",rang:"20-75",unit:"ml",data:{time:["2020-05-04 13:25","2020-05-05 13:25","2020-05-06 13:25"],value:[55,48,11]}}],checkResultData1:[],checkResultData2:[],timeArr:[new Date,new Date],median:0,index:0,indexTitle:"",dialogReport:!1,dialogEChartVisible:!1,isHistoryDialog:!1,list:[{label:"2020-05-05",children:[{label:"16:54 血常规"},{label:"18:54 电解质"}]},{label:"2020-05-04",children:[{label:"16:54 凝血功能"},{label:"18:54 大便常规+隐血"}]}],defaultProps:{children:"children",label:"label"}}},computed:r()({},Object(o.c)(["patient","history"])),methods:r()({},Object(o.b)("history",["update"]),{toHistory:function(){this.isHistoryDialog=!0},toNow:function(){this.isHistoryDialog=!1},historyClick:function(t){console.log(t),this.update(!0),this.isHistoryDialog=!1},thStyleFun:function(){return"text-align:center;color:#000000;border-bottom:1px solid rgb(85, 83, 83);border-top:1px solid rgb(85, 83, 83);"},cellStyleFun:function(){return"text-align:center"},openReport:function(){this.dialogReport=!0},showEcharts:function(t){var e=this;this.indexTitle=t.itemName;var a=Math.max.apply(Math,n()(t.data.value)),i=Math.min.apply(Math,n()(t.data.value));/(\d+\.{0,1}\d*)[\D^\\.]*(\d+\.{0,1}\d*)/.exec(t.rang);var l=parseFloat(RegExp.$1),r=parseFloat(RegExp.$2),o=t.unit,s=a>=r?a:r,c=i<=l?i:l;this.$nextTick(function(){var a=e.$refs.refTrendChart,i=e.$echarts.init(a),n={xAxis:{type:"category",data:t.data.time,axisLabel:{interval:0,formatter:function(t){var e=t.split(" ");return e[0]+"\n"+e[1]}}},yAxis:{type:"value",splitLine:{show:!1},axisLabel:{formatter:function(t){return""+t+o}},splitNumber:10,max:s+Math.ceil((s-c)/10),min:0},series:[{data:t.data.value,type:"bar",showBackground:!1,barWidth:40,itemStyle:{normal:{color:"#37a2da",label:{show:!0,position:"top",formatter:function(t){var e=t.data;return e<s&&e>c?"{b|"+e+"}":e>=s?"{a|"+e+"↑}":e<=c?"{a|"+e+"↓}":void 0},rich:{a:{color:"red"},b:{color:"#000"}}}}},markLine:{animation:!1,symbol:"none",data:[{name:"正常值上限",lineStyle:{type:"solid",color:"green"},label:{position:"end",formatter:function(t){return t.name+"\n   "+t.value+o}},yAxis:r},{name:"正常值下限",lineStyle:{type:"solid",color:"green"},label:{position:"end",formatter:function(t){return t.name+"\n   "+t.value+o}},yAxis:l}]}}]};i.setOption(n)})},getTip:function(t,e){/(\d+\.{0,1}\d*)[\D^\\.]*(\d+\.{0,1}\d*)/.exec(e);var a=parseFloat(RegExp.$1),i=parseFloat(RegExp.$2),n=parseFloat(t);return n<a?"↓":a<=n&&n<=i?"":"↑"},tableRowClassName1:function(t){var e=t.row,a=t.rowIndex;e.index=a},tableRowClassName2:function(t){var e=t.row,a=t.rowIndex;e.index=a+this.median},openDetails:function(t){var e=this;this.index=t.index,this.$nextTick(function(){e.showEcharts(e.checkResultData[t.index])}),this.dialogEChartVisible=!0},changeData:function(t){var e=this;1===t&&(this.index=this.index-1),2===t&&(this.index=this.index+1),this.index>=this.checkResultData.length?(this.$message({message:"已经是最后一条！",type:"warning"}),this.index=this.index-1):this.index<0?(this.$message({message:"已经是第一条！",type:"warning"}),this.index=this.index+1):this.$nextTick(function(){e.showEcharts(e.checkResultData[e.index])})},clickMenu:function(t){console.log(t)}}),created:function(){var t=this,e=this.checkResultData.map(function(e){return{itemName:e.itemName,result:e.result,tip:t.getTip(e.result,e.rang),rang:e.rang,unit:e.unit}});e.length>9?(this.median=Math.ceil(e.length/2),this.checkResultData1=e.slice(0,this.median),this.checkResultData2=e.slice(this.median)):this.checkResultData2=e},beforeDestroy:function(){v.a.$off("clickevent")},mounted:function(){var t=this;v.a.$on("clickevent",function(e){t.clickMenu(e)})}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("div",{staticClass:"title"},[a("navi-bar",[a("div",{staticClass:"time",attrs:{slot:"content"},slot:"content"},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.timeArr,callback:function(e){t.timeArr=e},expression:"timeArr"}})],1)]),t._v(" "),a("div",{staticClass:"control",attrs:{slot:"right"},slot:"right"},[a("el-button",{attrs:{type:"text"},on:{click:t.openReport}},[a("span",{staticClass:"iconfont"},[t._v("")]),t._v("报告单\n        ")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:t.toHistory}},[a("span",{staticClass:"icon-lishijilu iconfont"}),t._v("既往\n        ")])],1)])],1),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"content"},[a("leftMenu",{attrs:{width:t.width}},[a("tree",{attrs:{list:t.list,isShow:!1,level:1}})],1),t._v(" "),a("div",{staticClass:"contentRight"},[t._m(1),t._v(" "),a("div",{staticClass:"rightButtom"},[t.checkResultData1.length?a("el-table",{staticStyle:{"border-right":"1px solid rgb(85, 83, 83)","border-bottom":"1px solid rgb(85, 83, 83)"},attrs:{data:t.checkResultData1,"cell-style":t.cellStyleFun,"header-cell-style":t.thStyleFun,"row-class-name":t.tableRowClassName1},on:{"row-click":t.openDetails}},[a("el-table-column",{attrs:{prop:"itemName",label:"检验项目",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"result",label:"结果"}}),t._v(" "),a("el-table-column",{attrs:{label:"提示",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{class:""!==e.row.tip?"warning":""},[t._v(t._s(e.row.tip))])]}}],null,!1,1951113185)}),t._v(" "),a("el-table-column",{attrs:{prop:"rang",label:"参考范围"}}),t._v(" "),a("el-table-column",{attrs:{prop:"unit",label:"单位"}})],1):t._e(),t._v(" "),t.checkResultData2.length?a("el-table",{staticStyle:{"border-bottom":"1px solid rgb(85, 83, 83)"},attrs:{data:t.checkResultData2,"cell-style":t.cellStyleFun,"header-cell-style":t.thStyleFun,"row-class-name":t.tableRowClassName2},on:{"row-click":t.openDetails}},[a("el-table-column",{attrs:{prop:"itemName",label:"检验项目",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"result",label:"结果"}}),t._v(" "),a("el-table-column",{attrs:{label:"提示",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{class:""!==e.row.tip?"warning":""},[t._v(t._s(e.row.tip))])]}}],null,!1,1951113185)}),t._v(" "),a("el-table-column",{attrs:{prop:"rang",label:"参考范围"}}),t._v(" "),a("el-table-column",{attrs:{prop:"unit",label:"单位"}})],1):t._e()],1),t._v(" "),t._m(2)])],1),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogEChartVisible,width:"90%",top:"5vh"},on:{"update:visible":function(e){t.dialogEChartVisible=e}}},[a("div",{staticStyle:{"font-size":"25px","text-align":"center"}},[t._v(t._s(t.indexTitle))]),t._v(" "),a("span",{staticClass:"el-icon-arrow-left b-left",on:{click:function(e){return t.changeData(1)}}}),t._v(" "),a("span",{staticClass:"el-icon-arrow-right b-right",on:{click:function(e){return t.changeData(2)}}}),t._v(" "),a("div",{ref:"refTrendChart",staticStyle:{width:"800px",height:"500px",margin:"0 auto"},attrs:{id:"trendChart"}})]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogReport,width:"90%"},on:{"update:visible":function(e){t.dialogReport=e}}},[a("div",{staticStyle:{"font-size":"25px","text-align":"center"}},[t._v("报告单")])]),t._v(" "),a("historyDialog",{attrs:{historyData:t.historyData,isHistoryDialog:t.isHistoryDialog},on:{historyClickEvent:t.historyClick,toRowEvent:t.toNow}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("span",[this._v("血常规")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rightTop"},[a("table",{staticStyle:{"border-collapse":"collapse","font-size":".36rem",width:"100%",height:"auto",background:"#ffffff"},attrs:{border:"0"}},[a("tbody",[a("tr",[a("th",[t._v("姓名：")]),t._v(" "),a("td",[t._v("张三")]),t._v(" "),a("th",[t._v("序号：")]),t._v(" "),a("td",[t._v("0262774001")]),t._v(" "),a("th",[t._v("标本种类：")]),t._v(" "),a("td",[t._v("出血")]),t._v(" "),a("th",[t._v("标本编号：")]),t._v(" "),a("td",[t._v("200007")])]),t._v(" "),a("tr",[a("th",[t._v("性别：")]),t._v(" "),a("td",[t._v("女")]),t._v(" "),a("th",[t._v("科别：")]),t._v(" "),a("td",[t._v("产科病区")]),t._v(" "),a("th",[t._v("临床诊断：")]),t._v(" "),a("td",[t._v("41周")]),t._v(" "),a("th",[t._v("备注：")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("th",[t._v("年龄：")]),t._v(" "),a("td",[t._v("23岁")]),t._v(" "),a("th",[t._v("床号：")]),t._v(" "),a("td",[t._v("07")]),t._v(" "),a("th",[t._v("审核医生：")]),t._v(" "),a("td",[t._v("李四")])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rightTop"},[a("table",{staticStyle:{"border-collapse":"collapse","font-size":".36rem",width:"100%",height:"auto",background:"#ffffff"},attrs:{border:"0"}},[a("tbody",[a("tr",[a("th",[t._v("送检医生：")]),t._v(" "),a("td",[t._v("王刚主治医师")]),t._v(" "),a("th",[t._v("检验者：")]),t._v(" "),a("td",[t._v("李越")]),t._v(" "),a("th",[t._v("审核者：")]),t._v(" "),a("td",[t._v("李越")])]),t._v(" "),a("tr",[a("th",[t._v("接受日期：")]),t._v(" "),a("td",[t._v("2020-05-10 10:20")]),t._v(" "),a("th",[t._v("报告日期：")]),t._v(" "),a("td",[t._v("2020-05-10 11:20")])])])])])}]};var _=a("VU/8")(m,p,!1,function(t){a("Vxt3")},"data-v-abe76d0c",null);e.default=_.exports},"5zde":function(t,e,a){a("zQR9"),a("qyJz"),t.exports=a("FeBl").Array.from},Gu7T:function(t,e,a){"use strict";e.__esModule=!0;var i,n=a("c/Tr"),l=(i=n)&&i.__esModule?i:{default:i};e.default=function(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return(0,l.default)(t)}},Vxt3:function(t,e){},"c/Tr":function(t,e,a){t.exports={default:a("5zde"),__esModule:!0}},fBQ2:function(t,e,a){"use strict";var i=a("evD5"),n=a("X8DO");t.exports=function(t,e,a){e in t?i.f(t,e,n(0,a)):t[e]=a}},qyJz:function(t,e,a){"use strict";var i=a("+ZMJ"),n=a("kM2E"),l=a("sB3e"),r=a("msXi"),o=a("Mhyx"),s=a("QRG4"),c=a("fBQ2"),d=a("3fs2");n(n.S+n.F*!a("dY0y")(function(t){Array.from(t)}),"Array",{from:function(t){var e,a,n,u,h=l(t),v="function"==typeof this?this:Array,m=arguments.length,p=m>1?arguments[1]:void 0,_=void 0!==p,f=0,g=d(h);if(_&&(p=i(p,m>2?arguments[2]:void 0,2)),void 0==g||v==Array&&o(g))for(a=new v(e=s(h.length));e>f;f++)c(a,f,_?p(h[f],f):h[f]);else for(u=g.call(h),a=new v;!(n=u.next()).done;f++)c(a,f,_?r(u,p,[n.value,f],!0):n.value);return a.length=f,a}})}});